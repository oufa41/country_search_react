{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Raoof\\\\Desktop\\\\Incorta\\\\json-manipulation\\\\src\\\\components\\\\OnlinePosts\\\\GetOnlinePosts.js\";\nimport React, { Component } from 'react';\n\nclass GetOnlinePosts extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      searchString: \"\",\n      error: null,\n      isLoaded: false,\n      countries: []\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    // I will use fake api from jsonplaceholder website\n    // this return 100 posts\n    fetch(\"http://localhost:8000/testApi\").then(response => response.json()).then( // handle the result\n    result => {\n      this.setState({\n        isLoaded: true,\n        countries: result\n      });\n    });\n  }\n\n  handleChange() {\n    this.setState({\n      searchString: this.refs.search.value\n    });\n  }\n\n  render() {\n    const _this$state = this.state,\n          error = _this$state.error,\n          isLoaded = _this$state.isLoaded,\n          countries = _this$state.countries;\n    let _countries = this.state.countries;\n    console.log(_countries);\n    let search = this.state.searchString.trim().toLowerCase();\n\n    if (search.length > 0) {\n      _countries = _countries.filter(function (country) {\n        return country.name.toLowerCase().match(search);\n      });\n    }\n\n    if (search.length > 0) {\n      _countries = _countries.filter(function (country) {\n        return country.name.toLowerCase().match(search);\n      });\n    }\n\n    console.log(countries);\n\n    if (error) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"Error in loading\");\n    } else if (!isLoaded) {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \"Loading ...\");\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        value: this.state.searchString,\n        ref: \"search\",\n        onChange: this.handleChange,\n        placeholder: \"Country\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(\"ol\", {\n        className: \"item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, _countries.map(country => React.createElement(\"li\", {\n        key: country.id,\n        align: \"start\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, country.code, \": \", country.name)))));\n    }\n  }\n\n}\n\nexport default GetOnlinePosts;","map":{"version":3,"sources":["C:\\Users\\Raoof\\Desktop\\Incorta\\json-manipulation\\src\\components\\OnlinePosts\\GetOnlinePosts.js"],"names":["React","Component","GetOnlinePosts","constructor","props","state","searchString","error","isLoaded","countries","handleChange","bind","componentDidMount","fetch","then","response","json","result","setState","refs","search","value","render","_countries","console","log","trim","toLowerCase","length","filter","country","name","match","map","id","code"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nclass GetOnlinePosts extends Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            searchString: \"\",\r\n            error : null,\r\n            isLoaded : false,\r\n            countries : []\r\n        };\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n    componentDidMount() {\r\n        // I will use fake api from jsonplaceholder website\r\n        // this return 100 posts\r\n        fetch(\"http://localhost:8000/testApi\")\r\n        .then( response => response.json())\r\n        .then(\r\n            // handle the result\r\n            (result) => {\r\n                this.setState({\r\n                    isLoaded : true,\r\n                    countries : result,\r\n                });\r\n            })\r\n\r\n\r\n    }\r\n    handleChange() {\r\n    this.setState({\r\n      searchString: this.refs.search.value\r\n    });\r\n  }\r\n    render() {\r\n\r\n    const {error, isLoaded, countries} = this.state;\r\n    let _countries = this.state.countries;\r\n    console.log(_countries);\r\n    let search = this.state.searchString.trim().toLowerCase();\r\n    if (search.length > 0) {\r\n      _countries = _countries.filter(function(country) {\r\n      return country.name.toLowerCase().match(search);\r\n      });\r\n    }\r\n    if (search.length > 0) {\r\n      _countries = _countries.filter(function(country) {\r\n      return country.name.toLowerCase().match(search);\r\n      });\r\n    } \r\n    console.log(countries);\r\n    if(error){\r\n        return <div>Error in loading</div>\r\n    }else if (!isLoaded) {\r\n        return <div>Loading ...</div>\r\n    }else{\r\n        return(\r\n            <div>\r\n            <input\r\n              type=\"text\"\r\n              value={this.state.searchString}\r\n              ref=\"search\"\r\n              onChange={this.handleChange}\r\n              placeholder=\"Country\"\r\n              />\r\n                <ol className=\"item\">\r\n                {\r\n                    _countries.map(country => (\r\n                        <li key={country.id} align=\"start\">\r\n                            <div>\r\n                               {country.code}: {country.name}\r\n                            </div>\r\n                        </li>\r\n                    ))\r\n                }\r\n                </ol>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n  }\r\n export default GetOnlinePosts;\r\n"]},"metadata":{},"sourceType":"module"}